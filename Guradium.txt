Database Activity Monitoring (DAM)
Database Activity Monitoring (DAM) is a firm-wide service established in 2014 that allows the firm to have one infrastructure to monitor privileged database user access. The service uses IBM Guardium and Imperva Sonar to capture and log activity for the purpose of threat detection, regulatory compliance and increased database controls. All logged database activity is forwarded onto Cyber SIEM. The DAM scope consists of Production/DR databases supporting applications rated Critical or High Risk, or containing Highly Confidential data or are classified as MAS, SOX, SSAE16. Supported databases currently include Cassandra, CockroachDB, MySQL, Oracle, MSSQL, DB2, Sybase, Teradata, Greenplum, Sybase IQ, MongoDB, Vertica and Mainframe databases DB2 & IMS. DAM with Sonar will expand coverage for different database types, including public cloud offerings.

The DAM Service is run in partnership between Cyber and GTI. Cyber provide requirements and GTI engineer and operate the infrastructure.

Guardium related services : 

IBM Security Guardium S-TAP
IBM Security Guardium Resource Monitor Service
IGM Security Guardium Installation Manager
IGM Security Guardium Database Monitor
IBM Security Guardium Common Services

Problem statements :

Production possibilities : In Fund services applications time out errors from diffent services were observed continuosly.

Analysis what was done:  On first analysis it was found that no application release happened still timeouts started. After engaging Wintel, ESX, DBA, it was observed Guardium agent was utilization more memory and causing timeouts. Then Guardium team was engaged to collect memeory dumps and case was raised with IBM

Root Cause :  IBM identified there was memory leak from Guardium which was causing slowness and timeouts. So suggestion was to upgrade the Guardium agent from problem version to stable one. 

old version: 10.6.0.220
new version: 10.6.0.333(and now latest is 10.6.0.372)

Pointers;
Process wise variation happened :

1) When performance issue happened initially in prod the Guardium services(shown above in screenshot  for Guardium related services) was stopped which caused the ITRC break as the Guardium is mandatory from Cyber security wise also and also the approval from Guardium and DBA and Cyber team was taken. After fix in prod the ITRC break was closed

2) The alternate compensating control need to be added till the Guardium is stopped in Prod(Native SQL logging) but SQL Native logging process is disk intensive and also has caused performance issue in past for other application.(Unity application and Capstock)

